# Slice

## 🧵 문자열 슬라이스란?
- &str 타입은 문자열의 일부분을 참조하는 슬라이스입니다.
- String에서 특정 범위를 지정해 슬라이스를 만들 수 있습니다.
- 슬라이스는 불변 참조자이므로, 슬라이스가 존재하는 동안 원본 문자열을 수정할 수 없습니다.
```rust
let s = String::from("Hi, buzz!");
let name = &s[4..]; // "buzz!" 부분만 슬라이스
println!("{}", name); // buzz!
```



## 📌 슬라이스의 특징

| 항목               | `String`                          | `&str` (문자열 슬라이스)                     |
|--------------------|-----------------------------------|---------------------------------------------|
| 소유권             | 있음                               | 없음 (원본을 참조함)                         |
| 수정 가능 여부     | 가능 (`mut` 사용 시)               | 불가능 (불변 참조자)                         |
| 메모리 해제 시 영향| 직접 해제됨                        | 원본이 해제되면 슬라이스는 무효화됨         |
| 슬라이스 생성 방법 | `&s[start..end]` 등                | 동일 (`&str`도 슬라이스 문법 사용 가능)     |
| 슬라이스 문법      | `[start..end]`, `[start..]`, `[..end]`, `[..]` | 동일하게 사용 가능               |
| 사용 목적          | 전체 문자열을 소유하고 조작 가능   | 부분 문자열을 참조하여 읽기 전용으로 사용    |


## 🧠 한글 슬라이스의 주의점
- 한글은 UTF-8에서 3바이트로 표현되므로, 인덱스를 잘못 지정하면 panic 발생 가능
- 예: "헬로"는 [0..6]이지만 "헬로 월드"에서 "월드"는 [7..13]이 되어야 함
```rust
let s = String::from("헬로 월드");
let word = &s[0..6];  // "헬로"
let word = &s[7..13]; // "월드"
```

## 메모리 관련 이미지
![string_slice.png](/image/string_slice.png)



## 🔍 first_word 함수 예제
- 공백을 기준으로 문자열의 첫 단어를 추출하는 함수
- String뿐 아니라 &str에도 적용 가능
```rust
fn first_word(s: &str) -> &str {
    let bytes = s.as_bytes();
    for (i, &item) in bytes.iter().enumerate() {
        if item == b' ' {
            return &s[0..i];
        }
    }
    &s[..]
}
```


## ⚠️ 슬라이스와 수정 충돌
슬라이스가 존재하는 동안 원본 문자열을 수정하면 컴파일 에러 발생
```rust
let mut s = String::from("hello world");
let word = first_word(&s);
s.clear(); // ❌ 슬라이스가 살아있기 때문에 수정 불가
```


## 🔢 배열 슬라이스도 가능
```rust
let a = [1, 2, 3, 4, 5];
let slice = &a[1..3]; // [2, 3]
```

## ✅ 핵심 요약 (Markdown 표)
| 개념               | 설명                                                                 |
|--------------------|----------------------------------------------------------------------|
| 슬라이스 타입       | `&str`, `&[T]` 등                                                     |
| 소유권             | 없음 (원본을 참조함)                                                  |
| 수정 가능 여부     | 불가능 (불변 참조자)                                                  |
| 인덱스 기준         | 바이트 단위 (한글은 3바이트)                                          |
| 슬라이스 문법       | `[start..end]`, `[start..]`, `[..end]`, `[..]`                        |
| 메모리 안전성       | 원본이 변경되면 슬라이스는 무효화됨                                   |
| 배열 슬라이스       | 가능 (`&[T]`)                                                         |
| first_word 함수     | 공백 기준으로 첫 단어 추출                                            |

---
