# Rust ê°ì²´ ë¹„êµ (std::cmp::Ordering, std::cmp::Ord)
Rustì—ì„œ ê°ì²´ ê°„ì˜ í¬ê¸° ë¹„êµë¥¼ ë‹¤ë£° ë•Œ ì‚¬ìš©í•˜ëŠ” PartialOrd, Ord, ê·¸ë¦¬ê³  Ordering íƒ€ì…ì— ëŒ€í•´ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬. 
Person êµ¬ì¡°ì²´ì™€ ì •ë ¬ ë¡œì§ì€ ì‹¤ì „ì—ì„œë„ ë§¤ìš° ìœ ìš©í•œ íŒ¨í„´.


## ğŸ§  í•µì‹¬ ê°œë… ìš”ì•½
| íŠ¸ë ˆì´íŠ¸ / íƒ€ì… | ì£¼ìš” ë©”ì„œë“œ ë˜ëŠ” ê°’         | ì„¤ëª…                                 |
|------------------|-----------------------------|--------------------------------------|
| `PartialOrd`     | `partial_cmp()`             | ë¶€ë¶„ ìˆœì„œ ë¹„êµ. `Option<Ordering>` ë°˜í™˜ |
| `Ord`            | `cmp()`                     | ì „ì²´ ìˆœì„œ ë¹„êµ. í•­ìƒ `Ordering` ë°˜í™˜   |
| `Ordering`       | `Less`, `Equal`, `Greater`  | ë¹„êµ ê²°ê³¼ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì—´ê±°í˜• ê°’         |

### ğŸ§ª Ordering íƒ€ì…
```rust
pub enum Ordering {
    Less,
    Equal,
    Greater,
}
```

- PartialOrd::partial_cmp() ë˜ëŠ” Ord::cmp()ì˜ ë°˜í™˜ê°’
- match ë˜ëŠ” == ë¹„êµë¡œ ê²°ê³¼ë¥¼ í•´ì„ ê°€ëŠ¥

### âœ¨ PartialOrd êµ¬í˜„ ì˜ˆì‹œ
```rust
impl PartialOrd for Person {
    fn partial_cmp(&self, other: &Self) -> Option<Ordering> {
        if self.height <= 0 || other.height <= 0 {
            return None;
        }
        Some(self.height.cmp(&other.height))
    }
}
```

- Option<Ordering>ì„ ë°˜í™˜
- Noneì€ ë¹„êµ ë¶ˆê°€ëŠ¥í•œ ê²½ìš° (ì˜ˆ: ìŒìˆ˜ í‚¤)
- cmp()ëŠ” Ord íŠ¸ë ˆì´íŠ¸ì˜ ë©”ì„œë“œì§€ë§Œ i32ëŠ” ì´ë¯¸ Ordë¥¼ êµ¬í˜„í•˜ê³  ìˆì–´ ì‚¬ìš© ê°€ëŠ¥

### ìƒ˜í”Œ ì½”ë“œ
```rust
use std::cmp::Ordering;

#[derive(PartialEq, Eq)]
struct Person {
    name: String,
    age: i32,
    height: i32
}

impl PartialOrd for Person {
    fn partial_cmp(&self, other: &Self) -> Option<Ordering> {
        if self.height <= 0 || other.height <= 0 {
            return None;
        }
        if self.height > other.height {
            Some(Ordering::Greater)
        }
        else if self.height < other.height {
            Some(Ordering::Less)
        }
        else{
            Some(Ordering::Equal)
        }
    }
}

fn main(){
    let alpha = Person{
        name: "alpha".to_owned(),
        age: 10,
        height: 130,
    };
    let beta = Person{
        name: "beta".to_owned(),
        age: 10,
        height: 100,
    };
    if alpha > beta {
        println!("{} is taller.", alpha.name);
    }
    if alpha.partial_cmp(&beta).unwrap() == Ordering::Greater {
        println!("{} is taller", alpha.name);
    }
}
```

## âœ… Ord íŠ¸ë ˆì´íŠ¸ì™€ ìë™ ì •ë ¬
OrdëŠ” PartialOrdì™€ Eqë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, cmp() ë©”ì„œë“œë¥¼ êµ¬í˜„í•´ì•¼ í•©ë‹ˆë‹¤.
ë‹¨, OrdëŠ” ì „ì²´ ìˆœì„œë¥¼ ìš”êµ¬í•˜ë¯€ë¡œ Noneì„ ë°˜í™˜í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
```rust
impl Ord for Person {
    fn cmp(&self, other: &Self) -> Ordering {
        self.height.cmp(&other.height)
    }
}
```

ê·¸ë¦¬ê³  #[derive(PartialEq, Eq, PartialOrd, Ord)]ë¥¼ ì‚¬ìš©í•˜ë©´ ìë™ìœ¼ë¡œ ë©¤ë²„ ìˆœì„œì— ë”°ë¼ ë¹„êµê°€ êµ¬í˜„ë©ë‹ˆë‹¤.

## ğŸ” ì •ë ¬ í•¨ìˆ˜ ì˜ˆì‹œ
### ì§ì ‘ êµ¬í˜„í•œ ë²„ë¸” ì •ë ¬
```rust
fn class_sorting(peoples: &mut Vec<Person>) {
    let len = peoples.len();
    for i in 0..(len - 1) {
        for j in (i + 1)..len {
            if peoples[i] > peoples[j] {
                peoples.swap(i, j);
            }
        }
    }
}
```

### í‘œì¤€ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì •ë ¬
```rust
peoples.sort_by(|a, b| a.partial_cmp(b).unwrap());

```
- sort_by()ëŠ” Orderingì„ ë°˜í™˜í•˜ëŠ” í´ë¡œì €ë¥¼ ìš”êµ¬
- unwrap()ì€ Noneì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ëŠ” ì „ì œ í•˜ì— ì‚¬ìš©

### ì „ì²´ ì†ŒìŠ¤
```rust
use std::cmp::Ordering;
#[derive(PartialEq, Eq, Debug)]
struct Person {
    name: String,
    age: i32,
    height: i32
}
impl PartialOrd for Person {
    fn partial_cmp(&self, other: &Self) -> Option<Ordering> {
        if self.height <= 0 || other.height <= 0 {
            return None;
        }
        if self.height > other.height {
            Some(Ordering::Greater)
        }
        else if self.height < other.height {
            Some(Ordering::Less)
        }
        else{
            Some(Ordering::Equal)
        }
    }
}
fn class_sorting(peoples: &mut Vec<Person>){
    let len = peoples.len();
    for i in 0..(len-1) {
        for j in (i+1)..len {
            if peoples[i] > peoples[j]
            {
                peoples.swap(i, j);
            }
        }
    }
}
fn main(){
    let mut peoples = vec![
        Person{
            name: "aaa".to_owned(),
            age: 10,
            height: 130,
        },
        Person{
            name: "bbb".to_owned(),
            age: 10,
            height: 100,
        },
        Person{
            name: "ccc".to_owned(),
            age: 10,
            height: 170,
        },
    ];
    class_sorting(&mut peoples);
    for p in peoples.iter(){
        println!("people {:?}", p)
    }
// people Person { name: "bbb", age: 10, height: 100 }
// people Person { name: "aaa", age: 10, height: 130 }
// people Person { name: "ccc", age: 10, height: 170 }
}




use std::cmp::Ordering;
#[derive(PartialEq, Eq, Debug)]
struct Person {
    name: String,
    age: i32,
    height: i32
}
impl PartialOrd for Person {
    fn partial_cmp(&self, other: &Self) -> Option<Ordering> {
        if self.height <= 0 || other.height <= 0 {
            return None;
        }
        if self.height > other.height {
            Some(Ordering::Greater)
        }
        else if self.height < other.height {
            Some(Ordering::Less)
        }
        else{
            Some(Ordering::Equal)
        }
    }
}

fn class_sorting(peoples: &mut Vec<Person>){
    let len = peoples.len();
    for i in 0..(len-1) {
        for j in (i+1)..len {
            if peoples[i] > peoples[j]
            {
                peoples.swap(i, j);
            }
        }
    }
}
fn main(){
    let mut peoples = vec![
        Person{
            name: "aaa".to_owned(),
            age: 10,
            height: 130,
        },
        Person{
            name: "bbb".to_owned(),
            age: 10,
            height: 100,
        },
        Person{
            name: "ccc".to_owned(),
            age: 10,
            height: 170,
        },
    ];
    class_sorting(&mut peoples);
    for p in peoples.iter(){
        println!("people {:?}", p)
    }


// people Person { name: "bbb", age: 10, height: 100 }
// people Person { name: "aaa", age: 10, height: 130 }
// people Person { name: "ccc", age: 10, height: 170 }

    peoples.sort_by(|a, b| a.partial_cmp(b).unwrap());
    for p in peoples.iter(){
        println!("people {:?}", p)
    }
// people Person { name: "bbb", age: 10, height: 100 }
// people Person { name: "aaa", age: 10, height: 130 }
// people Person { name: "ccc", age: 10, height: 170 }    
}


```


âš ï¸ ì£¼ì˜ ì‚¬í•­

| í•­ëª©        | ì„¤ëª… ë˜ëŠ” ì£¼ì˜í•  ì                                       |
|-------------|----------------------------------------------------------|
| `PartialOrd` | `sort()` ì‚¬ìš© ë¶ˆê°€. ëŒ€ì‹  `sort_by()` ë˜ëŠ” `sort_unstable_by()` ì‚¬ìš© |
| `Ord` + `None` | `Ord::cmp()`ì€ `None`ì„ ë°˜í™˜í•  ìˆ˜ ì—†ìŒ. í•­ìƒ `Ordering` ë°˜í™˜ í•„ìš” |
| `unwrap()`   | `partial_cmp()` ê²°ê³¼ê°€ `None`ì¼ ìˆ˜ ìˆìœ¼ë¯€ë¡œ `unwrap()`ì€ ìœ„í—˜. `match`ë¡œ ì•ˆì „í•˜ê²Œ ì²˜ë¦¬ ê¶Œì¥ |

---






