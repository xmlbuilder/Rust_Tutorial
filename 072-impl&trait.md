# impl & trait
Rustì—ì„œ implê³¼ traitëŠ” ê°ì²´ ì§€í–¥ì ì¸ ê¸°ëŠ¥ì„ ì œë„¤ë¦­ê³¼ í•¨ê»˜ ì œê³µí•˜ëŠ” í•µì‹¬ ìš”ì†Œì…ë‹ˆë‹¤.  
ë§ì€ ì‚¬ëŒë“¤ì´ traitì— ì§‘ì¤‘í•˜ë©´ì„œë„ implì˜ ì—­í• ì„ ê°„ê³¼í•˜ëŠ” ê²½ìš°ê°€ ë§ìŒ. 

## ğŸ§± implì´ë€?
implì€ êµ¬ì¡°ì²´ë‚˜ ì—´ê±°í˜•ì— ëŒ€í•´ ë©”ì„œë“œë¥¼ êµ¬í˜„í•˜ëŠ” ë¸”ë¡ì…ë‹ˆë‹¤.  
ê°ì²´ ì§€í–¥ ì–¸ì–´ì—ì„œ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ ì •ì˜í•˜ëŠ” ê²ƒê³¼ ìœ ì‚¬í•˜ë©°, Rustì—ì„œëŠ” implì„ í†µí•´ êµ¬ì¡°ì²´ì— ê¸°ëŠ¥ì„ ë¶€ì—¬í•©ë‹ˆë‹¤.
### âœ… ê¸°ë³¸ êµ¬ì¡°
```rust
struct Calculator {
    value: i32,
}

impl Calculator {
    fn new() -> Calculator {
        Calculator { value: 0 }
    }

    fn add(&mut self, num: i32) {
        self.value += num;
    }

    fn sub(&mut self, num: i32) {
        self.value -= num;
    }
}
```

- Calculator êµ¬ì¡°ì²´ì— new, add, sub ë©”ì„œë“œë¥¼ ì •ì˜
- selfëŠ” í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ë¦¬í‚¤ë©°, &mut selfëŠ” ê°€ë³€ ì°¸ì¡°
### ğŸ§© ì œë„¤ë¦­ êµ¬ì¡°ì²´ì— ëŒ€í•œ impl
```rust
struct Point<T> {
    x: T,
    y: T,
}

impl<T> Point<T> {
    fn x(&self) -> &T {
        &self.x
    }
}
```

- impl<T>ëŠ” Point<T>ì˜ íƒ€ì… íŒŒë¼ë¯¸í„° Të¥¼ ë°›ì•„ ë©”ì„œë“œë¥¼ ì •ì˜
- x()ëŠ” x í•„ë“œì˜ ì°¸ì¡°ë¥¼ ë°˜í™˜

### âš ï¸ `impl` ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

| í•­ëª©             | ì„¤ëª…                                                                 |
|------------------|----------------------------------------------------------------------|
| `x, y, T`            | ì œë„¤ë¦­ êµ¬ì¡°ì²´ì˜ í•„ë“œ íƒ€ì…ì´ ë™ì¼í•´ì•¼ í•¨ (`x`, `y`ê°€ ëª¨ë‘ `T`)         |
| `self` ì¢…ë¥˜      | `self`, `&self`, `&mut self`ì— ë”°ë¼ ë©”ì„œë“œ í˜¸ì¶œ ë°©ì‹ê³¼ ê°€ë³€ì„± ê²°ì •     |
| `impl<T>`        | ì œë„¤ë¦­ íƒ€ì…ì— ëŒ€í•´ `impl`ì„ ì •ì˜í•  ë•Œ íƒ€ì… íŒŒë¼ë¯¸í„° ëª…ì‹œ í•„ìš”         |
| `impl Trait`     | í•¨ìˆ˜ ì¸ìë‚˜ ë°˜í™˜ê°’ì— íŠ¸ë ˆì´íŠ¸ ê¸°ë°˜ íƒ€ì…ì„ ì‚¬ìš©í•  ë•Œ `impl Trait` ì‚¬ìš© |

## ğŸ§  traitë€?
traitëŠ” ê³µí†µëœ ë™ì‘ì„ ì •ì˜í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì…ë‹ˆë‹¤.  
ì—¬ëŸ¬ íƒ€ì…ì´ ë™ì¼í•œ ë™ì‘ì„ êµ¬í˜„í•˜ë„ë¡ ê°•ì œí•  ìˆ˜ ìˆìœ¼ë©°, **ë‹¤í˜•ì„±(polymorphism)** ì„ Rustì—ì„œ êµ¬í˜„í•˜ëŠ” í•µì‹¬ ë„êµ¬ì…ë‹ˆë‹¤.
### âœ… ê¸°ë³¸ êµ¬ì¡°
```rust
trait Greet {
    fn greeting(&self) -> String;
}
```

- GreetëŠ” greeting()ì´ë¼ëŠ” ë©”ì„œë“œë¥¼ ìš”êµ¬
- impl Greet for Petì²˜ëŸ¼ íŠ¹ì • íƒ€ì…ì— ëŒ€í•´ êµ¬í˜„ ê°€ëŠ¥

### ğŸ§© ë‹¤ì–‘í•œ íƒ€ì…ì— ëŒ€í•œ êµ¬í˜„
```rust
enum Pet {
    Dog,
    Cat,
    Tiger,
}

impl Greet for Pet {
    fn greeting(&self) -> String {
        match self {
            Pet::Dog => "Dog".into(),
            Pet::Cat => "Cat".into(),
            Pet::Tiger => "Tiger".into(),
        }
    }
}

struct Person {
    name: String,
    active: bool,
}

impl Greet for Person {
    fn greeting(&self) -> String {
        "Hello".into()
    }
}
```

### âœ… trait ê¸°ë°˜ í•¨ìˆ˜ í˜¸ì¶œ
```rust
fn meet(one: &impl Greet, another: &impl Greet) {
    println!("one = {}", one.greeting());
    println!("another = {}", another.greeting());
}
```

â†’ impl Greetë¥¼ í†µí•´ íƒ€ì…ì´ ì•„ë‹Œ ê¸°ëŠ¥ì„ ê¸°ì¤€ìœ¼ë¡œ ì¸ìë¥¼ ë°›ìŒ

### âš ï¸ `trait` ì‚¬ìš© ì‹œ ì£¼ì˜ì‚¬í•­

| í•­ëª©                  | ì„¤ëª…                                                                 |
|-----------------------|----------------------------------------------------------------------|
| `trait` ì •ì˜          | ê³µí†µëœ ë™ì‘ì„ ëª…ì„¸í•˜ë©°, ì—¬ëŸ¬ íƒ€ì…ì´ ì´ë¥¼ êµ¬í˜„í•˜ë„ë¡ ê°•ì œí•¨            |
| `fn meet2<T: Greet>(...)` | ì œë„¤ë¦­ì„ ì‚¬ìš©í•´ ê°™ì€ íƒ€ì…ì— ëŒ€í•´ `trait`ë¥¼ êµ¬í˜„í•œ ì¸ìë§Œ ë°›ë„ë¡ ì œí•œ     |
| `T: Greet + Debug + Display` | ë‹¤ì¤‘ íŠ¸ë ˆì´íŠ¸ ë°”ìš´ë“œë¥¼ í†µí•´ íƒ€ì…ì— ë³µí•©ì ì¸ ì œì•½ì„ ê±¸ ìˆ˜ ìˆìŒ             |
| `where` ì ˆ            | ë³µì¡í•œ ë°”ìš´ë“œë¥¼ ê°€ë…ì„± ì¢‹ê²Œ í‘œí˜„í•˜ëŠ” ë°©ì‹ (`where T: Trait1 + Trait2`) |
| `trait` ë‚´ ë””í´íŠ¸ ë©”ì„œë“œ | `say_hello()`ì²˜ëŸ¼ ê¸°ë³¸ êµ¬í˜„ì„ ì œê³µí•˜ì—¬ ì½”ë“œ ì¬ì‚¬ìš©ì„±ê³¼ ì¼ê´€ì„± í–¥ìƒ         |


### ğŸ§© ë””í´íŠ¸ ë©”ì„œë“œ ì˜ˆì‹œ
```rust
trait Greet {
    fn name(&self) -> &str;
    fn say_hello(&self) {
        println!("Hello {}!", self.name());
    }
}
```

â†’ name()ë§Œ êµ¬í˜„í•˜ë©´ say_hello()ëŠ” ìë™ìœ¼ë¡œ ë™ì‘


---

### ì£¼ì˜ ì‚¬í•­ (íŠ¸ë ˆì´íŠ¸ ë©”ì„œë“œì—ì„œ ì¸ìŠ¤í„´ìŠ¤ ë°ì´í„° ì ‘ê·¼ ì˜¤ë¥˜)
```rust
trait Greet {
    fn say_hello() {}
}

impl Greet for Student {}

struct Student {
    name: String,
    age: i32,
    alive: bool,
    major: String,
}
```
- trait GreetëŠ” say_hello()ë¼ëŠ” ë©”ì„œë“œë¥¼ ì •ì˜í–ˆì§€ë§Œ, êµ¬í˜„ ë‚´ìš©ì€ ë¹„ì–´ ìˆìŒ.
- impl Greet for Studentë¥¼ í†µí•´ Student êµ¬ì¡°ì²´ê°€ Greet íŠ¸ë ˆì´íŠ¸ë¥¼ êµ¬í˜„í•œë‹¤ê³  ì„ ì–¸.
- í•˜ì§€ë§Œ say_hello()ë¥¼ ì˜¤ë²„ë¼ì´ë“œí•˜ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì—, ê¸°ë³¸ êµ¬í˜„(ë¹„ì–´ ìˆìŒ)ì´ ê·¸ëŒ€ë¡œ ì‚¬ìš©ë¨.

### ğŸ“Œ í•µì‹¬ ìš”ì•½
- íŠ¸ë ˆì´íŠ¸ ë©”ì„œë“œì—ì„œ self.nameì²˜ëŸ¼ êµ¬ì¡°ì²´ì˜ í•„ë“œì— ì§ì ‘ ì ‘ê·¼í•˜ë ¤ í•˜ë©´ ì»´íŒŒì¼ ì˜¤ë¥˜ê°€ ë°œìƒí•©ë‹ˆë‹¤.
- íŠ¸ë ˆì´íŠ¸ëŠ” êµ¬ì¡°ì²´ì˜ ë‚´ë¶€ í•„ë“œë¥¼ ì•Œ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì—, í•„ë“œ ì ‘ê·¼ì€ ì¶”ìƒí™”ëœ ë©”ì„œë“œë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ í•´ì•¼ í•©ë‹ˆë‹¤.
#### ğŸ§© ì˜ëª»ëœ ì½”ë“œ ì˜ˆì‹œ
```rust
trait Greet {
    fn say_hello(&self) {
        println!("Hello, {}", self.name);
    }
}
```

- self.nameì€ Greet íŠ¸ë ˆì´íŠ¸ì— ì •ì˜ë˜ì–´ ìˆì§€ ì•Šê¸° ë•Œë¬¸ì— ì»´íŒŒì¼ ì˜¤ë¥˜ ë°œìƒ.
- íŠ¸ë ˆì´íŠ¸ëŠ” nameì´ë¼ëŠ” í•„ë“œê°€ ì¡´ì¬í•œë‹¤ê³  ë³´ì¥í•  ìˆ˜ ì—†ìŒ.
#### ğŸ§© ì˜¬ë°”ë¥¸ ì½”ë“œ ì˜ˆì‹œ
```rust
trait Greet {
    fn say_hello(&self) {
        println!("Hello, Rustacean!");
    }
}
```

- êµ¬ì¡°ì²´ì˜ í•„ë“œì— ì ‘ê·¼í•˜ì§€ ì•Šê³ , ê³ ì •ëœ ë¬¸ìì—´ì„ ì¶œë ¥í•˜ë¯€ë¡œ ë¬¸ì œ ì—†ìŒ.

#### âœ… í•´ê²° ë°©ë²•
íŠ¸ë ˆì´íŠ¸ì—ì„œ í•„ë“œ ì ‘ê·¼ì´ í•„ìš”í•˜ë‹¤ë©´, í•„ë“œë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ì •ì˜í•˜ê³  ì´ë¥¼ í†µí•´ ê°„ì ‘ì ìœ¼ë¡œ ì ‘ê·¼í•´ì•¼ í•©ë‹ˆë‹¤:
```rust
trait Greet {
    fn name(&self) -> &str;
    fn say_hello(&self) {
        println!("Hello, {}!", self.name());
    }
}
```

```rust
// íŠ¸ë ˆì´íŠ¸ êµ¬í˜„
impl Greet for Student {
    fn name(&self) -> &str {
        &self.name
    }
}

// ì‹¤í–‰ ì˜ˆì œ
fn main() {
    let s = Student {
        name: String::from("JungHwan"),
        age: 25,
        alive: true,
        major: String::from("Computer Science"),
    };
    s.say_hello(); // ì¶œë ¥: Hello, JungHwan!
}

```

â†’ ì´ë ‡ê²Œ í•˜ë©´ name()ì„ ê° êµ¬ì¡°ì²´ì—ì„œ êµ¬í˜„í•˜ê³ , say_hello()ëŠ” ì•ˆì „í•˜ê²Œ í•„ë“œ ê°’ì„ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.


### ğŸ¯ `impl` vs `trait` ì •ë¦¬

| í•­ëª©     | ì„¤ëª…                                                                 |
|----------|----------------------------------------------------------------------|
| `impl`   | êµ¬ì¡°ì²´ë‚˜ ì—´ê±°í˜•ì— ëŒ€í•´ ì‹¤ì œ ê¸°ëŠ¥(ë©”ì„œë“œ)ì„ êµ¬í˜„í•˜ëŠ” ë¸”ë¡               |
|          | ê°ì²´ì— ë™ì‘ì„ ë¶€ì—¬í•˜ë©°, ìƒì„±ìë‚˜ ë‚´ë¶€ ë¡œì§ì„ ì •ì˜í•  ìˆ˜ ìˆìŒ            |
|          | ì œë„¤ë¦­ íƒ€ì…ì— ëŒ€í•´ `impl<T>`ë¡œ êµ¬í˜„ ê°€ëŠ¥                              |
| `trait`  | ê³µí†µëœ ë™ì‘ì„ ëª…ì„¸í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ ì—­í•                                  |
|          | ì—¬ëŸ¬ íƒ€ì…ì´ ë™ì¼í•œ ë™ì‘ì„ êµ¬í˜„í•˜ë„ë¡ ê°•ì œí•¨                            |
|          | ë‹¤í˜•ì„±ì„ êµ¬í˜„í•˜ë©°, `impl Trait`, `dyn Trait`, `where` ì ˆ ë“±ê³¼ í•¨ê»˜ ì‚¬ìš© |

---
