# 문서 테스트

## 📘 문서 테스트란?
Rust에서는 ///로 작성된 문서 주석 안에 포함된 코드 블록을
자동으로 컴파일하고 실행하여 테스트할 수 있습니다.
이 기능은 cargo test 명령어로 실행되며, 문서 속 예제가 실제로 동작하는지 검증합니다.

## 🧩 문서 테스트 구성 요소
### ✅ 기본 구조
```
/// Demonstrate Rock, Scissors, Paper
///
/// ```
/// use rust_part::{play, Cards};
///
/// let result = play(Cards::Rock, Cards::Scissors);
/// assert_eq!(result, Some(true));
/// ```
```

### 📘 문서 테스트 구성 요소

| 요소          | 설명                                                   |
|---------------|--------------------------------------------------------|
| `///`         | 문서 주석. 함수나 타입 위에 작성하여 문서화 및 테스트 가능     |
| 코드 블록     | ```로 감싸진 Rust 예제 코드. 실제로 컴파일되고 실행됨         |
| `assert_eq!`  | 결과 검증. 예제 코드가 기대한 결과를 반환하는지 확인           |
| `use`         | 테스트 코드에서 외부 모듈이나 함수 사용 시 필요한 선언         |


## 🧪 실행 방법
### ✅ 전체 테스트 실행
```
cargo test
```

- 단위 테스트 + 문서 테스트 모두 실행됨
- 출력에 Doc-tests 항목이 포함됨

### ✅ 문서 테스트만 실행
```
cargo test --doc
```

- 단위 테스트는 제외하고 문서 테스트만 실행됨
- 예제 코드의 정확성만 검증하고 싶을 때 유용

### ✅ 문서 생성 및 확인
```
cargo doc --open
```

- HTML 문서 생성 후 브라우저에서 자동으로 열림
- 문서 테스트가 포함된 API 문서를 시각적으로 확인 가능

## 📌 문서 테스트 작성 시 주의할 점
| 항목               | 설명                                                                 |
|--------------------|----------------------------------------------------------------------|
| `///` 주석 사용     | 함수나 타입 위에 작성해야 문서화됨                                     |
| 코드 블록은 Rust로 | 언어 지정 없이 작성하면 기본적으로 Rust로 인식됨                        |
| `assert_eq!` 사용   | 테스트로 인식되기 위해 결과 검증 포함 필요                              |
| `main` 함수 불필요 | 문서 테스트는 암묵적으로 `fn main()` 내부에서 실행됨                     |
| `cargo test --doc` | 문서 테스트만 따로 실행 가능                                            |



## 🎯 문서 테스트의 장점
- 📚 문서와 테스트를 동시에 관리 → 예제가 항상 최신 상태 유지
- ✅ 실제 동작 검증 → 문서에 잘못된 코드가 포함되는 것을 방지
- 🧠 사용자 이해도 향상 → 문서만 보고도 사용법을 바로 파악 가능
- 🔍 API 신뢰도 향상 → 문서 기반 테스트로 외부 사용자에게 안정성 제공

---

