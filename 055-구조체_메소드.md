# 🧱 구조체 메서드 정리 (Rust)
Rust에서 구조체(struct)는 데이터를 담는 컨테이너이고, impl 블록을 통해 해당 구조체에 **메서드(method)**를 정의할 수 있습니다.  
메서드는 일반 함수처럼 동작하지만, 구조체 인스턴스를 첫 번째 인자로 받습니다.

## 📌 기본 구조
```rust
#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }
}
```

- impl Rectangle 블록 안에서 fn area(&self)는 Rectangle 인스턴스의 참조를 받아 동작하는 메서드입니다.
- &self는 self: &Rectangle과 동일한 표현입니다.


## 🧠 self의 세 가지 형태
| 표현        | 설명                                                         |
|-------------|--------------------------------------------------------------|
| `&self`     | 불변 참조. 구조체의 데이터를 읽기만 할 때 사용               |
| `&mut self` | 가변 참조. 구조체의 데이터를 수정할 때 사용                  |
| `self`      | 소유권을 가져감. 인스턴스를 소비하거나 변환할 때 사용        |


### 예시: &self 사용
```rust
fn area(&self) -> u32 {
    self.width * self.height
}
```

### 예시: &mut self 사용
```rust
fn change_width(&mut self, width: u32) {
    self.width = width;
}
```

### 예시: self 사용
```rust
fn into_tuple(self) -> (u32, u32) {
    (self.width, self.height)
}
```


## 🧩 연관 함수 (Static Method)
- self를 받지 않는 함수는 연관 함수라고 하며, 구조체 이름으로 호출합니다.
- 주로 생성자 역할을 합니다.
```rust
impl Rectangle {
    fn square(size: u32) -> Rectangle {
        Rectangle {
            width: size,
            height: size,
        }
    }
}
```

호출 예시:
```rust
let sq = Rectangle::square(20);
```


## 🧪 전체 예제
```rust
#[derive(Debug)]
struct Rectangle {
    width: u32,
    height: u32,
}

impl Rectangle {
    fn area(&self) -> u32 {
        self.width * self.height
    }

    fn change_width(&mut self, width: u32) {
        self.width = width;
    }

    fn square(size: u32) -> Rectangle {
        Rectangle {
            width: size,
            height: size,
        }
    }
}

fn main() {
    let mut rect = Rectangle { width: 20, height: 30 };
    println!("area = {}", rect.area());

    rect.change_width(100);
    println!("rect = {:?}", rect);

    let sq = Rectangle::square(50);
    println!("square = {:?}", sq);
}
```



## 🧭 요약: 구조체 메서드 핵심 개념

| 개념         | 설명                                                                 |
|--------------|----------------------------------------------------------------------|
| `impl`       | 구조체에 메서드를 정의하는 블록. 객체지향적 기능을 구현할 수 있음     |
| `&self`      | 불변 참조. 구조체의 데이터를 읽기만 할 때 사용                         |
| `&mut self`  | 가변 참조. 구조체의 데이터를 수정할 때 사용                            |
| `self`       | 소유권을 가져감. 인스턴스를 소비하거나 변환할 때 사용                   |
| `self` (연관 함수 없음) | `self`를 받지 않는 함수는 연관 함수. 구조체 이름으로 호출하며 주로 생성자 역할 |

---



