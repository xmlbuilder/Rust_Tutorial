# Scope & Drop
Rust의 **변수 스코프(scope)**와 **메모리 해제(drop)**가 어떻게 작동하는 개념에 대한 설명.

## 🧭 변수 스코프란?
**스코프(scope)**는 변수나 값이 유효한 범위를 의미합니다. Rust에서는 중괄호 {}로 감싸진 블록이 하나의 스코프입니다.
```rust
fn main() {
    {
        let s = "Hello"; // s는 이 블록 안에서만 유효
        println!("s = {s}"); // ✅ 사용 가능
    }
    // println!("s = {s}"); // ❌ 에러! s는 스코프를 벗어남
}
```

➡️ s는 내부 블록에서 선언되었기 때문에, 블록을 벗어나면 자동으로 drop되고, 더 이상 사용할 수 없습니다.

## 🧠 스택과 힙 메모리와의 관계
Rust에서는 변수의 스코프가 끝나면 스택에 저장된 값은 자동으로 제거되고, 힙에 저장된 값은 drop()을 통해 해제됩니다.
- "Hello"는 문자열 리터럴로 스택에 저장됨
- String::from("Hello")처럼 힙에 저장되는 경우에는 스코프 종료 시 drop() 호출됨
```rust
fn main() {
    {
        let s = String::from("Hello"); // 힙에 저장
        println!("s = {s}");
    } // 여기서 drop() 호출됨 → 힙 메모리 해제
}
```


## 📌 핵심 요약
| 개념         | 설명                                           |
|--------------|------------------------------------------------|
| 스코프       | 변수나 값이 유효한 코드 블록 범위               |
| 스코프 종료   | 변수는 더 이상 접근 불가, 메모리 자동 해제       |
| 스택 변수     | 스코프 종료 시 자동 제거                        |
| 힙 변수       | `drop()` 호출로 메모리 해제                     |
| 컴파일 오류   | 스코프 밖에서 변수 접근 시 컴파일 에러 발생      |

Rust는 이런 스코프 규칙 덕분에 메모리 누수 없이 안전한 코드를 작성할 수 있어요.

---


