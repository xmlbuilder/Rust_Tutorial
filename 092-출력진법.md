# 진법 표시
Rust에서 숫자를 다양한 진법으로 출력하는 방법과, Fortran 스타일의 고정 폭(fixed-width column) 출력

## 🔢 다양한 진법 출력
Rust의 format! 또는 println! 매크로는 숫자를 다음과 같이 출력:
```rust
fn main() {
    let number = 555;

    println!("Decimal     : {}", number);        // 기본 10진수
    println!("Binary      : {:b}", number);      // 2진수
    println!("Hexadecimal : {:x}", number);      // 16진수 (소문자)
    println!("Hexadecimal : {:X}", number);      // 16진수 (대문자)
    println!("Octal       : {:o}", number);      // 8진수
}
```

## 🧠 포맷 옵션 요약

| 포맷 코드 | 설명           | 출력 예시     |
|------------|----------------|----------------|
| `{}`       | 10진수 출력     | `555`          |
| `{:b}`     | 2진수 출력      | `1000101011`   |
| `{:x}`     | 16진수 출력 (소문자) | `22b`      |
| `{:X}`     | 16진수 출력 (대문자) | `22B`      |
| `{:o}`     | 8진수 출력      | `1053`         |



## 📐 Fortran 스타일 고정 폭 출력
Fortran은 열(column) 기반 입력을 많이 사용하죠. Rust에서도 format!을 활용하면 고정 폭 출력이 가능합니다.
### ✅ 예제: 고정 폭으로 정렬
```rust
fn main() {
    let number = 555;

    println!("{:<10} {:<10} {:<10} {:<10}", "Decimal", "Binary", "Hex", "Octal");
    println!("{:<10} {:<10} {:<10} {:<10}",
        number,
        format!("{:b}", number),
        format!("{:X}", number),
        format!("{:o}", number)
    );
}
```


### 🔍 설명
- {:<10}: 왼쪽 정렬, 폭 10칸
- {:>10}: 오른쪽 정렬, 폭 10칸
- {:^10}: 가운데 정렬, 폭 10칸
이렇게 하면 Fortran 스타일의 열 맞춤 출력이 가능해요.

### 🧪 고정 폭 숫자 포맷 예시
```rust
fn main() {
    let number = 42;

    println!("Decimal     : {:05}", number);     // 00042
    println!("Binary      : {:010b}", number);   // 0000101010
    println!("Hexadecimal : {:04X}", number);    // 002A
    println!("Octal       : {:04o}", number);    // 0052
}
```

- {:05}: 총 5자리, 빈칸은 0으로 채움
- {:010b}: 2진수 10자리, 앞에 0 채움


## 📌 핵심 요약
| 포맷 코드     | 설명                             | 출력 예시       |
|----------------|----------------------------------|------------------|
| `{:b}`         | 2진수 출력                        | `1000101011`     |
| `{:x}{:X}`     | 16진수 출력 (소문자/대문자)       | `22b22B`         |
| `{:o}`         | 8진수 출력                        | `1053`           |
| `{:<10}`       | 왼쪽 정렬, 폭 10칸                | `555       `     |
| `{:>10}`       | 오른쪽 정렬, 폭 10칸              | `       555`     |
| `{:05}`        | 0으로 채운 5자리                  | `00555`          |



## 🎯 목표: f64 값을 10자리 고정 폭으로 출력 + 소수점 이하 자릿수 제한
### ✅ 예제 코드
```rust
fn main() {
    let value: f64 = 12345678.90123;

    // 전체 폭 10자리, 소수점 이하 2자리, 오른쪽 정렬
    println!("{:>10.2}", value); // 출력: "12345678.90"
}
```

#### 🔍 설명
- {:>10.2}
- >: 오른쪽 정렬
- 10: 전체 폭 10자리
- .2: 소수점 이하 2자리로 자름
- 만약 숫자가 너무 크면 폭을 초과해서 출력되므로, 폭보다 큰 숫자는 잘리지 않고 그대로 출력됩니다.

### 📐 고정 폭 + 패딩 처리 예시
```rust
fn main() {
    let values = [123.456, 9876.54321, 1.2];

    for v in values {
        // 폭 10자리, 소수점 이하 2자리, 왼쪽 정렬
        println!("{:<10.2}", v);
    }
}
```

출력:
```
123.46    
9876.54   
1.20      
```

- :<10.2는 왼쪽 정렬
- 소수점 이하를 .2로 제한
- 전체 폭을 10자리로 맞춤

### 🧪 숫자가 너무 클 경우 처리 전략
Fortran처럼 자릿수 초과 시 잘라내거나 과학적 표기법으로 출력하려면 다음과 같이 할 수 있어요:
```rust
fn main() {
    let big = 1234567890123.456;

    // 과학적 표기법 + 폭 제한
    println!("{:>10.2e}", big); // 출력: "1.23e+12"
}
```

- e는 지수 표기법
- 10.2e는 폭 10자리, 소수점 이하 2자리

## ✅ 핵심 요약
| 포맷 코드       | 설명                                 | 출력 예시     |
|------------------|--------------------------------------|----------------|
| `{:.2}`          | 소수점 이하 2자리로 제한              | `123.46`       |
| `{:>10.2}`       | 폭 10자리, 오른쪽 정렬, 소수점 2자리 | `   123.46`    |
| `{:e}`           | 과학적 표기법                        | `1.23e+12`     |
| `{:>10.2e}`      | 폭 10자리, 오른쪽 정렬, 지수 표기법  | `1.23e+12`     |

---

## 문자 폭
Rust의 format! 매크로나 println!은 **지정된 폭(width)**과 **정밀도(precision)**를 기반으로 문자열을 생성하지만, 숫자가 너무 크거나 음수 부호가 포함되어 폭을 초과하면 자동으로 잘라내거나 줄여주지는 않음.  
즉, Rust는 "최대한 맞춰보겠다"는 태도는 있지만, 폭을 초과하는 경우는 그대로 출력.

### 🔍 예시: 폭 초과되는 경우
```rust
fn main() {
    let value = -12345678.9;
    println!("{:>10.2}", value); // 출력: -12345678.90 (총 12자리 → 폭 초과)
}
```

- {:>10.2}는 폭 10자리, 소수점 이하 2자리, 오른쪽 정렬
- 하지만 -12345678.90은 12자리이므로 폭을 초과해서 그대로 출력됨
- Rust는 폭보다 큰 값은 잘리지 않고 전체 출력합니다

### ✅ 해결 방법: 사용자가 직접 조정해야 함
Rust는 자동으로:
- 지수 표기법으로 바꾸거나
- 폭을 줄이거나
- 값을 생략하거나
하지 않습니다. 대신 사용자가 직접:
- 폭을 늘리거나
- 지수 표기법으로 전환하거나
- 값을 미리 검사해서 조건부 포맷을 적용해야 해요.

### 🧪 조건부 포맷 예시
```rust
fn format_fixed_width(value: f64, width: usize) -> String {
    let formatted = format!("{:>width$.2}", value, width = width);
    if formatted.len() > width {
        format!("{:>width$.2e}", value, width = width) // 지수 표기법으로 대체
    } else {
        formatted
    }
}

fn main() {
    let values = [-12345678.9, 123.456, -0.0000123];
    for v in values {
        println!("{}", format_fixed_width(v, 10));
    }
}
```

출력 예시:
```
-1.23e+07
    123.46
 -1.23e-05
```

- 폭을 초과하면 자동으로 지수 표기법으로 바꾸는 로직
- 사용자가 직접 판단해서 포맷을 조정해야 함

## 📌 핵심 요약
| 포맷 코드     | 설명                             | 출력 예시     |
|----------------|----------------------------------|----------------|
| `{:.2}`        | 소수점 이하 2자리로 제한          | `123.46`       |
| `{:>10.2}`     | 폭 10자리, 오른쪽 정렬, 소수점 2자리 | `   123.46`    |
| `{:e}`         | 과학적 표기법                    | `1.23e+12`     |
| `{:>10.2e}`    | 폭 10자리, 오른쪽 정렬, 지수 표기법 | `1.23e+12`     |

----



