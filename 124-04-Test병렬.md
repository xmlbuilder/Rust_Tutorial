# 병렬 테스트

## ⚙️ 1. 병렬 테스트 실행 방식
Rust의 cargo test는 기본적으로 테스트를 병렬로 실행합니다.
이는 테스트 속도를 높이기 위한 전략이며, 내부적으로 스레드 풀을 사용합니다.

### ✅ 병렬 실행 기본 명령
```
$ cargo test
```

- 여러 테스트가 동시에 실행됨
- 테스트 간 상태 공유가 없을 경우 병렬 실행이 매우 효율적

### 🧵 2. 병렬성 제어: --test-threads
테스트가 공유 상태를 사용하는 경우, 병렬 실행은 간섭을 일으킬 수 있습니다.
이럴 땐 병렬성을 제한하거나 제거해야 합니다.
#### ✅ 단일 스레드로 실행
```
$ cargo test -- --test-threads=1
```

- 모든 테스트가 순차적으로 실행됨
- 테스트 간 간섭 방지
- 디버깅 시 유용하지만 실행 속도는 느려질 수 있음

### 📣 3. 출력 캡처 해제: --nocapture
기본적으로 cargo test는 테스트 중의 println! 출력 등을 캡처하여 숨깁니다.
성공한 테스트의 출력도 보고 싶다면 다음 옵션을 사용하세요:
```
$ cargo test -- --nocapture
```

- 모든 stdout 출력이 콘솔에 표시됨
- 디버깅이나 로깅 확인에 유용

### 🔍 4. 특정 테스트만 실행
테스트가 많을 경우, 원하는 테스트만 실행할 수 있습니다.
```
$ cargo test this_test_will_pass
```

- 함수 이름 일부만 입력해도 매칭됨
- 빠른 반복 테스트에 유용

### 🚫 5. 테스트 무시 및 선택 실행
####  ✅ 무시된 테스트 정의
```rust
#[test]
#[ignore]
fn slow_or_optional_test() {
    // 실행되지 않음
}
```

#### ✅ 무시된 테스트만 실행
```rust
$ cargo test -- --ignored
```

- #[ignore]가 붙은 테스트만 실행
- 느린 테스트, 조건부 테스트에 활용


### 🧩 요약: 테스트 실행 옵션 정리

| 명령어                             | 설명                                      |
|------------------------------------|-------------------------------------------|
| `cargo test`                       | 모든 테스트를 병렬로 실행 (기본 설정)       |
| `cargo test -- --test-threads=1`   | 병렬성 제거, 테스트를 하나의 스레드에서 순차 실행 |
| `cargo test -- --nocapture`        | `println!` 출력 캡처 해제, 콘솔에 로그 표시     |
| `cargo test func_name`             | 특정 테스트 함수만 실행                     |
| `cargo test -- --ignored`          | `#[ignore]`가 붙은 테스트만 실행             |

---


