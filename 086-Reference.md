# Reference
 **ì°¸ì¡°(reference)**ì™€ &, &&, &&& ê°™ì€ í‘œí˜„ë“¤ì— ëŒ€í•´ ê¹Šì´ ìˆê²Œ ì •ë¦¬.  
 RustëŠ” ë©”ëª¨ë¦¬ ì•ˆì „ì„±ê³¼ ì„±ëŠ¥ì„ ë™ì‹œì— ì¡ê¸° ìœ„í•´ ì°¸ì¡° ê°œë…ì„ ì•„ì£¼ ì •êµí•˜ê²Œ ë‹¤ë£¨ê³  ìˆì–´ìš”.
 

## ğŸ§  Referenceë€?
Rustì—ì„œ &TëŠ” ê°’ Tì— ëŒ€í•œ ë¶ˆë³€ ì°¸ì¡°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì°¸ì¡°ëŠ” ì‹¤ì œ ê°’ì„ ë³µì‚¬í•˜ì§€ ì•Šê³ , ê·¸ ê°’ì´ ì €ì¥ëœ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ëŠ” í¬ì¸í„°ì˜ˆìš”.
```rust
let my_number = 9;
let reference = &my_number;
```

- referenceëŠ” my_numberì˜ ì°¸ì¡°
- *referenceëŠ” ì°¸ì¡°ë¥¼ ì—­ì°¸ì¡°(dereference) í•´ì„œ ì‹¤ì œ ê°’ì„ ê°€ì ¸ì˜´

## ğŸ” &, &&, &&&ì˜ ì˜ë¯¸
Rustì—ì„œëŠ” &ë¥¼ ì—¬ëŸ¬ ë²ˆ ì¤‘ì²©í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”. ê°ê°ì€ ì°¸ì¡°ì˜ ì°¸ì¡°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
| í‘œí˜„   | ì˜ë¯¸         | íƒ€ì… ì˜ˆì‹œ |
|--------|--------------|-----------|
| `&T`   | ê°’ `T`ì— ëŒ€í•œ ì°¸ì¡°       | `&i32`     |
| `&&T`  | ì°¸ì¡°ì— ëŒ€í•œ ì°¸ì¡° (`&(&T)`) | `&&i32`    |
| `&&&T` | ì°¸ì¡°ì˜ ì°¸ì¡°ì˜ ì°¸ì¡° (`&(&(&T))`) | `&&&i32`   |

ì´ê²Œ ì™œ ê°€ëŠ¥í•˜ëƒë©´, RustëŠ” ìë™ ì—­ì°¸ì¡°(deref coercion) ë•ë¶„ì— ì´ëŸ° ì¤‘ì²©ëœ ì°¸ì¡°ë„ ìì—°ìŠ¤ëŸ½ê²Œ ì²˜ë¦¬í•´ì¤˜ìš”.

## âœ… ì˜ˆì œ ë¶„ì„ â‘ : ê¸°ë³¸ ì°¸ì¡°
```rust
fn main(){
    let my_number = 9;
    let reference = &my_number;

    println!("{}", &my_number == reference); // true
    println!("{}", my_number == *reference); // true
    println!("{}", *reference);              // 9
}
```

- &my_number == reference: ë‘ ì°¸ì¡°ê°€ ê°™ì€ ì£¼ì†Œë¥¼ ê°€ë¦¬í‚¤ë¯€ë¡œ true
- *reference: ì—­ì°¸ì¡°í•´ì„œ ì‹¤ì œ ê°’ 9ë¥¼ ê°€ì ¸ì˜´
- my_number == *reference: ê°’ ë¹„êµ â†’ true

## âœ… ì˜ˆì œ ë¶„ì„ â‘¡: êµ¬ì¡°ì²´ì™€ . ì—°ì‚°ì
```rust
struct Item {
    number: u8,
}

impl Item {
    fn compare_number(&self, other_number: u8){
        println!("Are {} and {} equal? {}", self.number, other_number, other_number == self.number);
    }
}


fn main(){
    let item = Item { number: 8 };
    let reference_item = &item;
    let reference_item_two = &&item;

    item.compare_number(8);              // ì§ì ‘ í˜¸ì¶œ
    reference_item.compare_number(8);    // ì°¸ì¡°ë¡œ í˜¸ì¶œ
    reference_item_two.compare_number(8);// ì°¸ì¡°ì˜ ì°¸ì¡°ë¡œ í˜¸ì¶œ
}
```


## ğŸ” í•µì‹¬ í¬ì¸íŠ¸: . ì—°ì‚°ìì™€ ìë™ ì—­ì°¸ì¡°
Rustì—ì„œëŠ” . ì—°ì‚°ìë¥¼ ì‚¬ìš©í•  ë•Œ ìë™ìœ¼ë¡œ ì—­ì°¸ì¡°ë¥¼ í•´ì¤ë‹ˆë‹¤.
ê·¸ë˜ì„œ &&item.compare_number(8)ì²˜ëŸ¼ ì°¸ì¡°ê°€ ì—¬ëŸ¬ ê²¹ì´ì–´ë„ ë¬¸ì œ ì—†ì´ ë©”ì„œë“œ í˜¸ì¶œì´ ê°€ëŠ¥í•´ìš”.
ì¦‰, reference_item_two.compare_number(8)ëŠ” ë‚´ë¶€ì ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ì²˜ë¦¬ë©ë‹ˆë‹¤:
(*(*reference_item_two)).compare_number(8);

Rustê°€ ì•Œì•„ì„œ *ë¥¼ ì ìš©í•´ì£¼ê¸° ë•Œë¬¸ì— ê°œë°œìê°€ ì§ì ‘ *ë¥¼ ì“¸ í•„ìš”ê°€ ì—†ì–´ìš”. ì´ê²Œ ë°”ë¡œ deref coercion!


## ğŸ“Œ ìš”ì•½: ì°¸ì¡°ì™€ ìë™ ì—­ì°¸ì¡°
| í‘œí˜„                | ì„¤ëª… |
|---------------------|------|
| `&T`                | ê°’ `T`ì— ëŒ€í•œ ì°¸ì¡° |
| `&&T`               | ì°¸ì¡°ì— ëŒ€í•œ ì°¸ì¡° (`&(&T)`) |
| `*reference`        | ì°¸ì¡°ë¥¼ ì—­ì°¸ì¡°í•˜ì—¬ ì‹¤ì œ ê°’ ê°€ì ¸ì˜¤ê¸° |
| `reference.method()`| ìë™ ì—­ì°¸ì¡°ë¡œ ë©”ì„œë“œ í˜¸ì¶œ ê°€ëŠ¥ |
| `.`                 | ìë™ìœ¼ë¡œ `*`ë¥¼ ì ìš©í•´ì¤Œ (deref coercion) |


---

Rustì—ì„œ deref coercionì€ ì´ˆë³´ìë“¤ì´ í—·ê°ˆë¦¬ê¸° ì‰¬ìš´ ê°œë…

## ğŸ§  Deref Coercionì´ë€?
Deref Coercionì€ Rustê°€ **ìë™ìœ¼ë¡œ * ì—­ì°¸ì¡°(dereference)**ë¥¼ í•´ì£¼ëŠ” ê¸°ëŠ¥ì´ì—ìš”.
ì¦‰, ì–´ë–¤ íƒ€ì…ì´ Deref íŠ¸ë ˆì‡ì„ êµ¬í˜„í•˜ê³  ìˆë‹¤ë©´, RustëŠ” ê·¸ íƒ€ì…ì„ ìë™ìœ¼ë¡œ ì°¸ì¡° í•´ì œí•´ì„œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ë°”ê¿”ì¤˜ìš”.
ì˜ˆë¥¼ ë“¤ì–´:
```rust
fn greet(name: &str) {
    println!("Hello, {}!", name);
}

fn main() {
    let my_string = String::from("JungHwan");
    greet(&my_string); // &String â†’ &strë¡œ ìë™ ë³€í™˜ë¨!
}
```


ì™œ ë˜ëŠ” ê±¸ê¹Œ?
- Stringì€ Deref<Target = str>ì„ êµ¬í˜„í•˜ê³  ìˆì–´ìš”.
- ê·¸ë˜ì„œ &Stringì€ ìë™ìœ¼ë¡œ &strë¡œ ë³€í™˜ë¼ìš”.
- ìš°ë¦¬ëŠ” *ë¥¼ ì§ì ‘ ì“°ì§€ ì•Šì•„ë„ ë˜ê³ , Rustê°€ ì•Œì•„ì„œ í•´ì¤˜ìš”.


## ğŸ”§ ì–´ë–¤ íƒ€ì…ë“¤ì´ Deref Coercionì„ ì§€ì›í•˜ë‚˜ìš”?

| ì›ë˜ íƒ€ì…   | ìë™ ë³€í™˜ ëŒ€ìƒ íƒ€ì… |
|-------------|---------------------|
| `&String`   | `&str`              |
| `&Vec<T>`   | `&[T]`              |
| `Box<T>`    | `&T`                |
| `Rc<T>`     | `&T`                |


ì´ ë•ë¶„ì— ìŠ¤ë§ˆíŠ¸ í¬ì¸í„°ë‚˜ ë³µì¡í•œ ì°¸ì¡° êµ¬ì¡°ë„ ë§ˆì¹˜ ì¼ë°˜ ì°¸ì¡°ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ìš”.

## ğŸ“Œ í•µì‹¬ ìš”ì•½
| ê°œë…   | ì„¤ëª… |
|--------|------|
| `Deref` | `*` ì—°ì‚°ìë¥¼ í†µí•´ ì°¸ì¡°ë¥¼ ì—­ì°¸ì¡°í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŠ¸ë ˆì‡ |
|  Deref Coercion  | `*`ëŠ” ì°¸ì¡°ë¥¼ í•´ì œí•˜ì—¬ ì‹¤ì œ ê°’ì„ ê°€ì ¸ì˜¤ëŠ” ì—°ì‚°ì |
|  ì¥ì    | ì½”ë“œê°€ ê°„ê²°í•´ì§€ê³  ì°¸ì¡° íƒ€ì… ê°„ì˜ í˜¸í™˜ì„±ì´ ì¢‹ì•„ì§    |

---



