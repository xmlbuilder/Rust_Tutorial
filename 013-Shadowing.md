## Rust 변수 새도잉(Shadowing)

Rust에서 한 번 선언한 불변 변수의 값을 직접 변경할 수는 없습니다.  
하지만 같은 이름을 가진 새로운 변수를 다시 선언하면, 기존 변수를 가려(Shadowing) 새로운 변수를 사용할 수 있습니다.  
이것을 **변수 새도잉(Shadowing)** 이라고 합니다.

## 1. 기본 개념
```rust
fn main() {
    let x = "5";   // 문자열 "5"
    let x = 6;     // 정수 6으로 다시 선언 (기존 x는 가려짐)

    println!("The value of x is: {}", x); // 6
}
```

## 출력:
The value of x is: 6


첫 번째 x는 문자열 "5".  
두 번째 x는 정수 6.  
이전 변수는 더 이상 접근할 수 없고, 새로운 x가 사용됩니다.

## 2. 블록 스코프와 새도잉
```rust
fn main() {
    let x = 3;
    println!("x : {x}"); // 3

    // 기존 x가 가려짐
    let x = x + 1;
    println!("x : {x}"); // 4
 {
        // 블록 스코프 안에서 또 다른 x 선언
        let x = x * 2;
        println!("x : {x}"); // 8
    }

    // 블록이 끝나면 블록 안의 x는 사라짐
    println!("x : {x}"); // 4
}
```

## 출력:
```
x : 3
x : 4
x : 8
x : 4
```

## 3. 연속적인 새도잉
```rust
fn main() {
    let x = 5;
    let x = x + 1; // 6
    let x = x * 2; // 12

    println!("The value of x is: {}", x);
}
```
## 출력:
```
The value of x is: 12
```

## 4. 타입 변환에도 활용 가능
```rust
fn main() {
    let spaces = "   ";       // 문자열
    let spaces = spaces.len(); // 정수 (usize)

    println!("spaces length = {}", spaces);
}
```

## 출력:
```
spaces length = 3
```

같은 이름을 쓰지만 타입을 완전히 바꿀 수 있음.  
spaces라는 이름을 계속 재활용할 수 있어 코드가 간단해집니다.

## 5. mut와의 차이

아래는 컴파일 오류가 발생합니다:
```rust
fn main() {
    let mut spaces = "   ";
    spaces = spaces.len(); // ❌ 에러: `&str` 타입에 정수 대입 불가
}
```

mut는 같은 타입 내에서 값 변경만 허용합니다.  
타입 자체를 바꾸는 것은 불가능합니다.  
타입 변경이 필요한 경우 → 새도잉을 사용해야 합니다.  

## ✅ 정리
| 구분     | 새도잉 (`let`)                           | 가변(`mut`)                       |
|----------|------------------------------------------|-----------------------------------|
| 값 변경  | 새 변수 선언으로 가능                    | 동일 타입 내에서 가능              |
| 타입 변경| 가능 (예: `&str` → `usize`)              | 불가능                            |
| 메모리   | 새로운 변수가 새로 생성됨                 | 같은 메모리 공간 재사용            |
| 주 용도  | 이름 재활용 + 타입 변환 + 스코프 제한적   | 동일 타입 내 값 변경               |

---

